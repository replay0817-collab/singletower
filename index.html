<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹±ê¸€íƒ€ì›Œ ì•±</title>
    <style>
        :root {
            --bg-white: #ffffff;
            --dark-gray: #333333;
            --light-gray: #f8f8f8;
            --accent-blue: #007AFF;
            --admin-red: #ff4757;
        }

        /* 9:16 ëª¨ë°”ì¼ ìµœì í™” ë ˆì´ì•„ì›ƒ */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: #f0f0f0; display: flex; justify-content: center; align-items: center;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        .app-container {
            width: 100vw; height: 100vh; max-width: 414px; max-height: 736px; /* 9:16 ë¹„ìœ¨ */
            background-color: var(--bg-white); position: relative;
            display: flex; flex-direction: column; overflow: hidden;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }

        /* ì…ì²´ì  í„°ì¹˜ ì•¡ì…˜ */
        .interactive:active {
            transform: scale(0.96) translateY(2px);
            filter: brightness(0.9);
            transition: 0.1s;
        }

        /* ë¡œê·¸ì¸ í™”ë©´ */
        #login-screen {
            position: absolute; inset: 0; z-index: 1000;
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            display: flex; flex-direction: column; justify-content: center; padding: 40px;
        }
        .login-box {
            background: white; padding: 30px; border-radius: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.06); text-align: center;
        }
        .login-box h1 { font-weight: 800; color: var(--dark-gray); margin-bottom: 30px; letter-spacing: -1px; }
        .login-input {
            width: 100%; padding: 15px; margin-bottom: 12px; border: 1px solid #ddd;
            border-radius: 12px; box-sizing: border-box; outline: none;
        }
        .login-btn {
            width: 100%; padding: 15px; background: var(--dark-gray); color: white;
            border: none; border-radius: 12px; font-weight: 600; cursor: pointer;
            box-shadow: 0 4px 0 #000;
        }
        .login-links { display: flex; justify-content: center; gap: 15px; margin-top: 20px; font-size: 13px; color: #888; }

        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        #main-content { flex: 1; overflow-y: auto; padding-bottom: 100px; position: relative; }
        
        /* ë¸”ëŸ­í˜• í–‰ êµ¬ì„± */
        .block-row { display: grid; grid-template-columns: repeat(3, 1fr); width: 100%; }
        .admin-view .block-row { border-bottom: 1px dashed var(--admin-red); }
        .block-item {
            aspect-ratio: 1/1.3; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; padding: 10px; box-sizing: border-box;
        }
        .admin-view .block-item { border: 0.5px dashed #ccc; }
        
        .block-img-box {
            width: 100%; aspect-ratio: 1/1; background: #eee; border-radius: 8px;
            overflow: hidden; display: flex; align-items: center; justify-content: center;
        }
        .block-img-box img { width: 100%; height: 100%; object-fit: cover; }
        .block-text { margin-top: 8px; font-size: 12px; color: #444; font-weight: 500; }

        /* í•˜ë‹¨ ê³ ì • í—¤ë” */
        .fixed-header {
            position: absolute; bottom: 0; width: 100%; height: 75px;
            background-color: var(--dark-gray); display: flex; justify-content: space-around;
            align-items: center; z-index: 900; padding-bottom: env(safe-area-inset-bottom);
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #999; cursor: pointer; }
        .nav-item.active { color: #fff; }
        .nav-icon { font-size: 22px; margin-bottom: 4px; }
        .nav-label { font-size: 10px; }

        /* ê´€ë¦¬ì ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        #admin-panel {
            background: var(--admin-red); color: white; padding: 8px;
            font-size: 11px; display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1100;
        }
        .admin-ctrl-btn {
            background: rgba(255,255,255,0.2); border: 1px solid #fff; color: #fff;
            padding: 4px 8px; border-radius: 4px; font-size: 10px; cursor: pointer;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="app-container">
    <div id="admin-panel" class="hidden">
        <span>ADMIN MODE</span>
        <div>
            <button class="admin-ctrl-btn" onclick="togglePreview()">ì¼ë°˜/ê´€ë¦¬ì ì „í™˜</button>
            <button class="admin-ctrl-btn" onclick="addNewRow()">í–‰ ì¶”ê°€</button>
            <button class="admin-ctrl-btn" onclick="manageHeader()">í—¤ë” í¸ì§‘</button>
        </div>
    </div>

    <div id="login-screen">
        <div class="login-box">
            <h1>SINGLE TOWER</h1>
            <input type="text" id="id-input" class="login-input" placeholder="ì•„ì´ë””">
            <input type="password" id="pw-input" class="login-input" placeholder="íŒ¨ìŠ¤ì›Œë“œ">
            <button class="login-btn interactive" onclick="handleLogin()">ë¡œê·¸ì¸</button>
            <div class="login-links">
                <span class="interactive">íšŒì›ê°€ì…</span>
                <span class="interactive" onclick="alert('developer ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”.')">ê´€ë¦¬ì ì ‘ì†</span>
            </div>
        </div>
    </div>

    <main id="main-content">
        <div id="content-grid">
            </div>
    </main>

    <footer class="fixed-header" id="app-footer">
        <div class="nav-item active interactive" onclick="navClick(this)">
            <span class="nav-icon">ğŸ“˜</span><span class="nav-label">ì‹±ê¸€ë°±ì„œ</span>
        </div>
        <div class="nav-item interactive" onclick="navClick(this)">
            <span class="nav-icon">ğŸ“</span><span class="nav-label">ë§ˆì´ê¸€</span>
        </div>
        <div class="nav-item interactive" onclick="navClick(this)">
            <span class="nav-icon">ğŸ’¬</span><span class="nav-label">ì±„íŒ…ëª©ë¡</span>
        </div>
        <div class="nav-item interactive" onclick="navClick(this)">
            <span class="nav-icon">âš™ï¸</span><span class="nav-label">ì„¤ì •</span>
        </div>
    </footer>
</div>

<script>
    const ADM_ID = "developer";
    const ADM_PW = "e1252126!!";
    let isAdmin = false;
    let isPreview = false;
    let rowCount = 3; // ê¸°ë³¸ 3í–‰ (9ë¸”ëŸ­)

    function handleLogin() {
        const id = document.getElementById('id-input').value;
        const pw = document.getElementById('pw-input').value;

        if(id === ADM_ID && pw === ADM_PW) {
            isAdmin = true;
            document.getElementById('admin-panel').classList.remove('hidden');
        }
        document.getElementById('login-screen').classList.add('hidden');
        renderApp();
    }

    function renderApp() {
        const grid = document.getElementById('content-grid');
        grid.innerHTML = '';
        
        if(isAdmin && !isPreview) grid.classList.add('admin-view');
        else grid.classList.remove('admin-view');

        for(let r=0; r<rowCount; r++) {
            const rowEl = document.createElement('div');
            rowEl.className = 'block-row';
            
            for(let c=1; c<=3; c++) {
                const blockId = r * 3 + c;
                // [PNG ì²¨ë¶€ ì²´í¬] images í´ë” ë‚´ blockN.png íŒŒì¼ì„ ìš°ì„  ì°¸ì¡°
                const imgSrc = `images/block${blockId}.png`;
                
                rowEl.innerHTML += `
                    <div class="block-item interactive">
                        <div class="block-img-box">
                            <img src="${imgSrc}" onerror="this.src='https://via.placeholder.com/512x512?text=PNG+Ready'" alt="item">
                        </div>
                        <div class="block-text" id="text-${blockId}">í•­ëª© ${blockId}</div>
                        ${isAdmin && !isPreview ? `
                            <div style="margin-top:4px;">
                                <button class="admin-ctrl-btn" style="background:#666;" onclick="alert('images/block${blockId}.png ë¡œ ì—…ë¡œë“œí•˜ì„¸ìš”')">IMG</button>
                                <button class="admin-ctrl-btn" style="background:#666;" onclick="changeText(${blockId})">TXT</button>
                                <button class="admin-ctrl-btn" style="background:#666;" onclick="deleteRow(this)">DEL</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            grid.appendChild(rowEl);
        }
    }

    // ê´€ë¦¬ì ëª¨ë“œ ê¸°ëŠ¥ë“¤
    function togglePreview() {
        isPreview = !isPreview;
        renderApp();
    }

    function addNewRow() {
        rowCount++;
        renderApp();
    }

    function deleteRow(btn) {
        if(confirm("ì´ í–‰ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            rowCount--;
            renderApp();
        }
    }

    function changeText(id) {
        const newTxt = prompt("í‘œì‹œí•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
        if(newTxt) document.getElementById(`text-${id}`).innerText = newTxt;
    }

    // í—¤ë”(í‘¸í„°) ê´€ë¦¬ ê¸°ëŠ¥
    function manageHeader() {
        const action = prompt("[1]ì¶”ê°€ [2]ì‚­ì œ ì¤‘ ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”.");
        if(action === "1") {
            const name = prompt("ëª©ë¡ ëª…:");
            const url = prompt("ì—°ê²°í•  URL (ë‚´ë¶€í˜ì´ì§€ë¼ë©´ #ì…ë ¥):");
            if(name) {
                const footer = document.getElementById('app-footer');
                const newItem = document.createElement('div');
                newItem.className = 'nav-item interactive';
                newItem.innerHTML = `<span class="nav-icon">âœ¨</span><span class="nav-label">${name}</span>`;
                newItem.onclick = () => { if(url !== '#') location.href = url; };
                footer.appendChild(newItem);
            }
        } else if(action === "2") {
            alert("ë§ˆì§€ë§‰ì— ì¶”ê°€ëœ í•­ëª©ë¶€í„° ì‚­ì œë©ë‹ˆë‹¤.");
            const footer = document.getElementById('app-footer');
            if(footer.children.length > 4) footer.removeChild(footer.lastChild);
        }
    }

    function navClick(el) {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
    }
</script>

</body>
</html>