<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹±ê¸€íƒ€ì›Œ ì•±</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° 9:16 ë¹„ìœ¨ ê°•ì œ */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000; /* ì™¸ë¶€ ë°°ê²½ ë¸”ë™ */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
        }

        /* 9:16 ëª¨ë°”ì¼ ìµœì í™” ì»¨í…Œì´ë„ˆ */
        .app-frame {
            position: relative;
            width: 100vw;
            height: 177.78vw; /* 9:16 ë¹„ìœ¨ ê³„ì‚° */
            max-height: 100vh;
            max-width: 56.25vh; /* 9:16 ë¹„ìœ¨ ê³„ì‚° */
            background-color: #333333; /* ì§„íšŒìƒ‰ ë°°ê²½ */
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            /* ë°”íƒ•ìƒ‰ ì ì§„ì  ë³€í™” ì• ë‹ˆë©”ì´ì…˜ */
            animation: bgShift 8s infinite alternate;
        }

        @keyframes bgShift {
            0% { background-color: #333333; }
            100% { background-color: #444444; }
        }

        /* í™ˆ ë©”ì¸: 3ì—´ êµ¬ì„± */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding-bottom: 90px; /* í—¤ë” ê³µê°„ */
            scrollbar-width: none;
        }
        .main-content::-webkit-scrollbar { display: none; }

        /* ë¸”ëŸ­ ìŠ¤íƒ€ì¼ ë° ì…ì²´ ë™ì‘ */
        .block {
            position: relative;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            transition: transform 0.1s ease;
            cursor: pointer;
            border: none; /* í…Œë‘ë¦¬ ê°€ë¦¼ */
        }

        .block:active {
            transform: scale(0.92) translateY(3px); /* ì…ì²´ì  ëˆŒë¦¼ íš¨ê³¼ */
        }

        .block-img-container {
            width: 100%;
            aspect-ratio: 1/1;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .block img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .block-label {
            color: #ffffff;
            font-size: 11px;
            margin-top: 4px;
            text-align: center;
            height: 14px;
        }

        /* í•˜ë‹¨ í—¤ë”: ì•„ì´ë³´ë¦¬ ìƒ‰ìƒ ë° ê³ ì • */
        .bottom-header {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 75px;
            background-color: #F5F5DC; /* ì•„ì´ë³´ë¦¬ */
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding-bottom: env(safe-area-inset-bottom);
            border-top: 1px solid #e0e0d0;
            z-index: 100;
        }

        .header-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #444;
            transition: transform 0.1s ease;
        }

        .header-item:active {
            transform: scale(0.85); /* í„°ì¹˜ ì¸ì‹ ì…ì²´ ë™ì‘ */
        }

        .header-icon {
            font-size: 24px;
            margin-bottom: 2px;
        }

        .header-text {
            font-size: 10px;
            font-weight: bold;
        }

        /* ê´€ë¦¬ì ëª¨ë“œ ìŠ¤íƒ€ì¼ */
        #admin-modal {
            display: none;
            position: absolute;
            inset: 0;
            background: white;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }

        .admin-section { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .admin-section input { width: 100%; margin: 5px 0; padding: 5px; }
        .admin-btn { background: #333; color: white; border: none; padding: 10px; width: 100%; cursor: pointer; }
    </style>
</head>
<body>

    <div class="app-frame">
        <div class="main-content" id="home-grid">
            </div>

        <nav class="bottom-header" id="nav-header">
            </nav>

        <div id="admin-modal">
            <h2 style="margin-top:0">ê´€ë¦¬ì ì„¤ì •</h2>
            <div id="admin-blocks-config"></div>
            <hr>
            <div id="admin-header-config"></div>
            <button class="admin-btn" onclick="closeAdmin()">ì €ì¥ ë° ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        // ì´ˆê¸° ë°ì´í„°
        let blocks = [
            { id: 1, text: "ë‚¨ì„±íƒ€ì›Œ", url: "" },
            { id: 2, text: "ì—¬ì„±íƒ€ì›Œ", url: "" },
            { id: 3, text: "ëª¨ë¸í•˜ìš°ìŠ¤", url: "" },
            { id: 4, text: "ì—†ìŒ", url: "" },
            { id: 5, text: "ì—†ìŒ", url: "" },
            { id: 6, text: "ìë™ì°¨íƒ€ì›Œ", url: "https://autonote.co.kr/" },
            { id: 7, text: "ì—†ìŒ", url: "" },
            { id: 8, text: "ì—†ìŒ", url: "" },
            { id: 9, text: "ë°´ë“œíƒ€ì›Œ", url: "https://www.band.us/" },
            { id: 10, text: "ì—†ìŒ", url: "" },
            { id: 11, text: "ì—†ìŒ", url: "" },
            { id: 12, text: "ì—†ìŒ", url: "" }
        ];

        let headers = [
            { id: 1, name: "ì‹±ê¸€ë°±ì„œ", icon: "ğŸ“‹", path: "#", type: "internal" },
            { id: 2, name: "ë§ˆì´ê¸€", icon: "âœï¸", path: "#", type: "internal" },
            { id: 3, name: "ì±„íŒ…ëª©ë¡", icon: "ğŸ’¬", path: "#", type: "internal" },
            { id: 4, name: "ì„¤ì •", icon: "âš™ï¸", path: "javascript:openAdmin()", type: "internal" }
        ];

        const grid = document.getElementById('home-grid');
        const nav = document.getElementById('nav-header');

        // í™ˆ í™”ë©´ ë Œë”ë§
        function renderHome() {
            grid.innerHTML = '';
            blocks.forEach((b) => {
                const blockDiv = document.createElement('div');
                blockDiv.className = 'block';
                
                // í´ë¦­ ì‹œ ì™¸ë¶€ ì—°ê²° ì²˜ë¦¬
                blockDiv.onclick = () => { if(b.url && b.url.startsWith('http')) window.open(b.url, '_blank'); };

                const imgContainer = document.createElement('div');
                imgContainer.className = 'block-img-container';
                
                const img = document.createElement('img');
                img.src = `images/block${b.id}.png`;
                img.onerror = () => img.style.opacity = '0'; // íŒŒì¼ ì—†ì„ ì‹œ íˆ¬ëª…í•˜ê²Œ (ê°€ì´ë“œë¼ì¸ ìˆ¨ê¹€ ìœ ì§€)
                
                const label = document.createElement('div');
                label.className = 'block-label';
                // ì¼ë°˜ëª¨ë“œì—ì„œëŠ” ë¬¸êµ¬ê°€ 'ì—†ìŒ'ì´ ì•„ë‹ˆê±°ë‚˜ ê´€ë¦¬ì ì„¤ì • ì‹œ ë‚˜íƒ€ë‚˜ê²Œ í•¨ (ëª…ì‹œì‚¬í•­ ë°˜ì˜)
                label.innerText = (b.text !== "ì—†ìŒ") ? b.text : "";

                imgContainer.appendChild(img);
                blockDiv.appendChild(imgContainer);
                blockDiv.appendChild(label);
                grid.appendChild(blockDiv);
            });
        }

        // í—¤ë” ë Œë”ë§
        function renderHeader() {
            nav.innerHTML = '';
            headers.forEach(h => {
                const item = document.createElement('a');
                item.className = 'header-item';
                item.href = h.path;
                item.innerHTML = `
                    <div class="header-icon">${h.icon}</div>
                    <div class="header-text">${h.name}</div>
                `;
                nav.appendChild(item);
            });
        }

        // ê´€ë¦¬ì ê¸°ëŠ¥
        function openAdmin() {
            document.getElementById('admin-modal').style.display = 'block';
            const blockConfig = document.getElementById('admin-blocks-config');
            blockConfig.innerHTML = '<h3>ë¸”ëŸ­ í…ìŠ¤íŠ¸ ìˆ˜ì •</h3>';
            blocks.forEach((b, i) => {
                blockConfig.innerHTML += `
                    <div class="admin-section">
                        Block ${b.id} ë¬¸êµ¬: <input type="text" value="${b.text}" onchange="updateBlock(${i}, 'text', this.value)">
                        ì—°ê²° URL: <input type="text" value="${b.url}" onchange="updateBlock(${i}, 'url', this.value)">
                    </div>
                `;
            });

            const headerConfig = document.getElementById('admin-header-config');
            headerConfig.innerHTML = '<h3>í—¤ë” ë©”ë‰´ ê´€ë¦¬</h3>';
            headers.forEach((h, i) => {
                headerConfig.innerHTML += `
                    <div class="admin-section">
                        ì´ë¦„: <input type="text" value="${h.name}" onchange="updateHeader(${i}, 'name', this.value)">
                        ê²½ë¡œ: <input type="text" value="${h.path}" onchange="updateHeader(${i}, 'path', this.value)">
                        <button onclick="deleteHeader(${i})">ì‚­ì œ</button>
                    </div>
                `;
            });
            headerConfig.innerHTML += `<button class="admin-btn" style="background:blue" onclick="addHeader()">+ ë©”ë‰´ ì¶”ê°€</button>`;
        }

        function updateBlock(i, key, val) { blocks[i][key] = val; }
        function updateHeader(i, key, val) { headers[i][key] = val; }
        function deleteHeader(i) { headers.splice(i, 1); openAdmin(); }
        function addHeader() { 
            headers.push({ id: Date.now(), name: "ìƒˆë©”ë‰´", icon: "â­", path: "#", type: "external" }); 
            openAdmin(); 
        }

        function closeAdmin() {
            document.getElementById('admin-modal').style.display = 'none';
            renderHome();
            renderHeader();
        }

        // ì´ˆê¸°í™”
        window.onload = () => {
            renderHome();
            renderHeader();
        };
    </script>
</body>
</html>