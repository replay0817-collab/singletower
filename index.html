<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹±ê¸€íƒ€ì›Œ ì•±</title>
    <style>
        :root {
            --dark-gray: #333333;
            --admin-red: #ff4757;
            --grass-base: #567d46;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: #000; display: flex; justify-content: center; align-items: center;
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            overflow: hidden;
        }

        /* 9:16 ëª¨ë°”ì¼ ìµœì í™” ì»¨í…Œì´ë„ˆ */
        .app-container {
            width: 100vw; height: 100vh; max-width: 414px; max-height: 736px;
            position: relative; overflow: hidden; display: flex; flex-direction: column;
            /* ì”ë””ìƒ‰ìƒ ì‹¤ì œì²˜ëŸ¼ ìƒ‰ìƒë³€í™” íš¨ê³¼ */
            animation: grassGradient 10s infinite alternate ease-in-out;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        @keyframes grassGradient {
            0% { background-color: #567d46; }
            50% { background-color: #4a6d3a; }
            100% { background-color: #638d52; }
        }

        /* ì…ì²´ì  í„°ì¹˜ ì•¡ì…˜ (Action Type) */
        .interactive { transition: transform 0.1s, filter 0.1s; cursor: pointer; }
        .interactive:active { transform: scale(0.95) translateY(2px); filter: brightness(0.9); }

        /* ë¡œê·¸ì¸ í™”ë©´ */
        #login-screen {
            position: absolute; inset: 0; z-index: 1000;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px;
        }
        .login-box {
            background: rgba(255,255,255,0.95); width: 100%; padding: 35px 25px; border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15); text-align: center;
        }
        .login-box h1 { margin-bottom: 35px; color: var(--dark-gray); font-size: 28px; font-weight: 800; letter-spacing: -1px; }
        .login-box input {
            width: 100%; padding: 16px; margin-bottom: 12px; border: 1px solid #eee;
            border-radius: 14px; font-size: 16px; outline: none; background: #f9f9f9;
        }
        .login-box button {
            width: 100%; padding: 16px; background: var(--dark-gray); color: white;
            border: none; border-radius: 14px; font-size: 16px; font-weight: bold; margin-top: 10px;
        }

        /* ë©”ì¸ ì½˜í…ì¸  */
        #main-content { flex: 1; overflow-y: auto; padding-bottom: 100px; }
        
        /* 3ì—´ ê³ ì • ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ (3í–‰ ìœ ì§€) */
        .grid-container { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            width: 100%;
        }

        .block-item {
            aspect-ratio: 1/1.3; display: flex; flex-direction: column; align-items: center;
            justify-content: center; position: relative; padding: 5px;
        }

        /* ì¼ë°˜ëª¨ë“œ ë¹ˆ ë¸”ë¡ ê°€ì´ë“œ ë¼ì¸ ìˆ¨ê¸°ê¸° / ê´€ë¦¬ìëª¨ë“œ ë…¸ì¶œ */
        .admin-view .block-item { border: 0.5px dashed rgba(255,255,255,0.4); }

        .block-img-box {
            width: 100%; height: 82%; display: flex; align-items: center; justify-content: center;
        }
        .block-img-box img { width: 100%; height: 100%; object-fit: contain; }

        /* ë¸”ë¡ë³„ ë¬¸êµ¬ ìŠ¤íƒ€ì¼ */
        .block-text {
            color: white; font-size: 11px; font-weight: bold; text-align: center;
            margin-top: 2px; text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            min-height: 1.2em;
        }

        /* í•˜ë‹¨ ê³ ì • í—¤ë” (ë„¤ë¹„ê²Œì´ì…˜) */
        .fixed-footer {
            position: absolute; bottom: 0; width: 100%; height: 85px;
            background-color: var(--dark-gray); display: flex; justify-content: space-around;
            align-items: center; z-index: 900; padding-bottom: 15px;
        }
        .nav-item { color: #888; text-align: center; flex: 1; display: flex; flex-direction: column; align-items: center; font-size: 10px; }
        .nav-item.active { color: white; }
        .nav-icon { font-size: 22px; margin-bottom: 5px; }

        /* ê´€ë¦¬ì ìƒë‹¨ ì œì–´ ë°” */
        #admin-bar {
            background: var(--admin-red); color: white; padding: 10px 15px;
            display: flex; justify-content: space-between; align-items: center; font-size: 12px; z-index: 1100;
        }
        .admin-btn { background: rgba(0,0,0,0.2); border: 1px solid white; color: white; padding: 4px 8px; border-radius: 6px; cursor: pointer; font-size: 10px; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="app-container">
    <div id="admin-bar" class="hidden">
        <span><strong>ê´€ë¦¬ì ëª¨ë“œ</strong></span>
        <div>
            <button class="admin-btn" onclick="togglePreview()">ë¯¸ë¦¬ë³´ê¸° ì „í™˜</button>
            <button class="admin-btn" onclick="editHeader()">í—¤ë” í¸ì§‘</button>
        </div>
    </div>

    <div id="login-screen">
        <div class="login-box">
            <h1>SINGLE TOWER</h1>
            <input type="text" id="admin-id" placeholder="ì•„ì´ë””">
            <input type="password" id="admin-pw" placeholder="íŒ¨ìŠ¤ì›Œë“œ">
            <button class="interactive" onclick="processLogin()">ë¡œê·¸ì¸</button>
            <div style="margin-top:20px; font-size:13px; color:#888;">íšŒì›ê°€ì… | ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</div>
        </div>
    </div>

    <main id="main-content">
        <div id="grid-wrap" class="grid-container">
            </div>
    </main>

    <footer class="fixed-footer" id="main-nav">
        <div class="nav-item active interactive" onclick="navAction(this)">
            <span class="nav-icon">ğŸ“–</span><span>ì‹±ê¸€ë°±ì„œ</span>
        </div>
        <div class="nav-item interactive" onclick="navAction(this)">
            <span class="nav-icon">ğŸ‘¤</span><span>ë§ˆì´ê¸€</span>
        </div>
        <div class="nav-item interactive" onclick="navAction(this)">
            <span class="nav-icon">ğŸ’¬</span><span>ì±„íŒ…ëª©ë¡</span>
        </div>
        <div class="nav-item interactive" onclick="navAction(this)">
            <span class="nav-icon">âš™ï¸</span><span>ì„¤ì •</span>
        </div>
    </footer>
</div>

<script>
    const ADM_ID = "developer";
    const ADM_PW = "e1252126!!";
    let isManager = false;
    let isPreviewMode = false;

    // ì´ˆê¸° ë¸”ë¡ ë¬¸êµ¬ ë°ì´í„° ì„¤ì •
    const blockLabels = {
        1: "ë‚¨ì„±íƒ€ì›Œ",
        2: "ì—¬ì„±íƒ€ì›Œ",
        3: "ëª¨ë¸í•˜ìš°ìŠ¤",
        6: "ë°´ë“œíƒ€ì›Œ",
        9: "ìë™ì°¨íƒ€ì›Œ"
    };

    function processLogin() {
        const id = document.getElementById('admin-id').value;
        const pw = document.getElementById('admin-pw').value;
        if (id === ADM_ID && pw === ADM_PW) {
            isManager = true;
            document.getElementById('admin-bar').classList.remove('hidden');
        }
        document.getElementById('login-screen').classList.add('hidden');
        buildGrid();
    }

    function buildGrid() {
        const wrap = document.getElementById('grid-wrap');
        wrap.innerHTML = '';
        
        // ê°€ì´ë“œ ë¼ì¸ í‘œì‹œ ì œì–´
        if(isManager && !isPreviewMode) wrap.classList.add('admin-view');
        else wrap.classList.remove('admin-view');

        // 3ì—´ x 4í–‰(ì´ 12ê°œ ë¸”ë¡) ê³ ì • ë Œë”ë§
        for (let i = 1; i <= 12; i++) {
            const block = document.createElement('div');
            block.className = 'block-item interactive';
            
            // ê´€ë¦¬ì ëª¨ë“œì—ì„œ í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ ìˆ˜ì • ê¸°ëŠ¥
            if(isManager && !isPreviewMode) {
                block.onclick = () => {
                    const currentTxt = blockLabels[i] || "";
                    const newTxt = prompt(`block${i} ë¬¸êµ¬ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”:`, currentTxt);
                    if(newTxt !== null) {
                        blockLabels[i] = newTxt;
                        buildGrid();
                    }
                };
            }

            const labelTxt = blockLabels[i] || "";
            // ì¼ë°˜ëª¨ë“œì—ì„œëŠ” 'ì—†ìŒ'ìœ¼ë¡œ ì„¤ì •ëœ ë¬¸êµ¬ëŠ” ê°€ë¦¼ ì²˜ë¦¬
            const displayTxt = (labelTxt === "ì—†ìŒ" || labelTxt === "") ? "" : labelTxt;

            block.innerHTML = `
                <div class="block-img-box">
                    <img src="images/block${i}.png" onerror="this.style.opacity='0'">
                </div>
                <div class="block-text">${displayTxt}</div>
            `;
            wrap.appendChild(block);
        }
    }

    function togglePreview() {
        isPreviewMode = !isPreviewMode;
        buildGrid();
        alert(isPreviewMode ? "ì¼ë°˜ ëª¨ë“œ ë¯¸ë¦¬ë³´ê¸°ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤." : "ê´€ë¦¬ì í¸ì§‘ ëª¨ë“œë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    function editHeader() {
        const action = prompt("[1]ëª©ë¡ ì¶”ê°€ [2]ëª©ë¡ ì‚­ì œ");
        const nav = document.getElementById('main-nav');
        if (action === "1") {
            const name = prompt("ì´ë¦„:");
            const icon = prompt("ì•„ì´ì½˜(ì´ëª¨ì§€):", "âœ¨");
            const link = prompt("ê²½ë¡œ(ë‚´ë¶€# ë˜ëŠ” ì™¸ë¶€URL):");
            if(name) {
                const item = document.createElement('div');
                item.className = 'nav-item interactive';
                item.innerHTML = `<span class="nav-icon">${icon}</span><span>${name}</span>`;
                item.onclick = () => { if(link) location.href = link; };
                nav.appendChild(item);
            }
        } else if (action === "2") {
            if (nav.children.length > 4) nav.removeChild(nav.lastChild);
        }
    }

    function navAction(el) {
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }
</script>
</body>
</html>