<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ì‹±ê¸€íƒ€ì›Œ ì•±</title>
    <style>
        :root {
            --dark-gray: #333333;
            --admin-red: #ff4757;
            --grass-base: #567d46;
        }

        /* ê¸°ë³¸ ì´ˆê¸°í™” ë° ëª¨ë°”ì¼ ìµœì í™” */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: #1a1a1a; display: flex; justify-content: center; align-items: center;
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            overflow: hidden;
        }

        /* 9:16 ë¹„ìœ¨ ì»¨í…Œì´ë„ˆ (ëª¨ë°”ì¼ ë·°í¬íŠ¸ ìµœì í™”) */
        .app-container {
            width: 100vw; height: 100vh; max-width: 414px; max-height: 736px;
            position: relative; overflow: hidden; display: flex; flex-direction: column;
            /* ì‹¤ì œ ì”ë””ì²˜ëŸ¼ ìƒ‰ìƒ ë³€í™” íš¨ê³¼ */
            animation: grassCycle 8s infinite alternate ease-in-out;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }

        @keyframes grassCycle {
            0% { background-color: #567d46; }
            50% { background-color: #4a6d3a; }
            100% { background-color: #638d52; }
        }

        /* ì…ì²´ì  í„°ì¹˜ ì•¡ì…˜ (Action Type) */
        .interactive { transition: transform 0.1s, filter 0.1s; cursor: pointer; }
        .interactive:active { transform: scale(0.92) translateY(3px); filter: brightness(0.85); }

        /* ë¡œê·¸ì¸ í™”ë©´ ìŠ¤í‚¨ */
        #login-screen {
            position: absolute; inset: 0; z-index: 1000;
            background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
            display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px;
        }
        .login-box {
            background: rgba(255,255,255,0.9); width: 100%; padding: 35px 25px; border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1); text-align: center;
        }
        .login-box h1 { margin-bottom: 30px; color: var(--dark-gray); font-size: 26px; font-weight: 800; }
        .login-box input {
            width: 100%; padding: 15px; margin-bottom: 12px; border: 1px solid #ddd;
            border-radius: 12px; font-size: 16px; outline: none; background: #f9f9f9;
        }
        .login-box button {
            width: 100%; padding: 16px; background: var(--dark-gray); color: white;
            border: none; border-radius: 12px; font-size: 16px; font-weight: bold; margin-top: 10px;
        }

        /* ë©”ì¸ ì½˜í…ì¸  ê·¸ë¦¬ë“œ (3ì—´ ê³ ì •) */
        #main-content { 
            flex: 1; overflow-y: auto; padding: 10px; 
            padding-bottom: 100px; /* í—¤ë” ê³µê°„ í™•ë³´ */
            scrollbar-width: none;
        }
        #main-content::-webkit-scrollbar { display: none; }

        .grid-container { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            width: 100%;
            gap: 5px;
        }

        .block-item {
            aspect-ratio: 1/1.3; display: flex; flex-direction: column; align-items: center;
            justify-content: center; position: relative; padding: 5px;
        }

        /* ê´€ë¦¬ì ëª¨ë“œ ê°€ì´ë“œë¼ì¸ / ì¼ë°˜ ëª¨ë“œ ìˆ¨ê¹€ */
        .admin-view .block-item { border: 0.5px dashed rgba(255,255,255,0.3); }

        .block-img-box {
            width: 100%; height: 85%; display: flex; align-items: center; justify-content: center;
        }
        .block-img-box img { 
            max-width: 100%; max-height: 100%; 
            object-fit: contain; /* í–‰ ì•ˆì— png íŒŒì¼ ìµœëŒ€ í¬ê¸°ë¡œ ì ìš© */
        }

        /* ì¼ë°˜ ëª¨ë“œì—ì„œë„ ë¬¸êµ¬ ë…¸ì¶œ */
        .block-text {
            color: white; font-size: 11px; font-weight: bold; text-align: center;
            margin-top: 3px; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            min-height: 1.2em;
        }

        /* ìµœí•˜ë‹¨ ê³ ì • í—¤ë” */
        .fixed-footer {
            position: absolute; bottom: 0; width: 100%; height: 85px;
            background-color: var(--dark-gray); display: flex; justify-content: space-around;
            align-items: center; z-index: 900; padding-bottom: calc(10px + env(safe-area-inset-bottom));
        }
        .nav-item { color: #aaaaaa; text-align: center; flex: 1; display: flex; flex-direction: column; align-items: center; font-size: 10px; }
        .nav-item.active { color: white; }
        .nav-icon { font-size: 22px; margin-bottom: 5px; }

        /* ê´€ë¦¬ì ìƒë‹¨ ì œì–´ ë°” */
        #admin-bar {
            background: var(--admin-red); color: white; padding: 12px 15px;
            display: flex; justify-content: space-between; align-items: center; font-size: 12px; z-index: 1100;
        }
        .admin-btn { background: rgba(0,0,0,0.2); border: 1px solid white; color: white; padding: 5px 10px; border-radius: 6px; cursor: pointer; font-size: 10px; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="app-container">
    <div id="admin-bar" class="hidden">
        <span><strong>ê´€ë¦¬ì ëª¨ë“œ í™œì„±</strong></span>
        <div>
            <button class="admin-btn" onclick="togglePreview()">ì „í™˜ (ë¯¸ë¦¬ë³´ê¸°)</button>
            <button class="admin-btn" onclick="manageHeader()">í—¤ë” í¸ì§‘</button>
        </div>
    </div>

    <div id="login-screen">
        <div class="login-box">
            <h1>SINGLE TOWER</h1>
            <input type="text" id="id-input" placeholder="ì•„ì´ë””">
            <input type="password" id="pw-input" placeholder="íŒ¨ìŠ¤ì›Œë“œ">
            <button class="interactive" onclick="loginCheck()">ë¡œê·¸ì¸</button>
            <div style="margin-top:25px; font-size:13px; color:#888;">íšŒì›ê°€ì…  |  ID/PW ì°¾ê¸°</div>
        </div>
    </div>

    <main id="main-content">
        <div id="grid-wrap" class="grid-container">
            </div>
    </main>

    <footer class="fixed-footer" id="main-nav">
        <div class="nav-item active interactive" onclick="navMove(this)">
            <span class="nav-icon">ğŸ“–</span><span>ì‹±ê¸€ë°±ì„œ</span>
        </div>
        <div class="nav-item interactive" onclick="navMove(this)">
            <span class="nav-icon">ğŸ‘¤</span><span>ë§ˆì´ê¸€</span>
        </div>
        <div class="nav-item interactive" onclick="navMove(this)">
            <span class="nav-icon">ğŸ’¬</span><span>ì±„íŒ…ëª©ë¡</span>
        </div>
        <div class="nav-item interactive" onclick="navMove(this)">
            <span class="nav-icon">âš™ï¸</span><span>ì„¤ì •</span>
        </div>
    </footer>
</div>

<script>
    const ADMIN_ID = "developer";
    const ADMIN_PW = "e1252126!!";
    let isManager = false;
    let isPreview = false;

    // ì´ˆê¸° ë¸”ë¡ ë°ì´í„° (ë¬¸êµ¬ ë° ì—°ê²° ë§í¬)
    const blockData = {
        1: { text: "ë‚¨ì„±íƒ€ì›Œ", link: "" },
        2: { text: "ì—¬ì„±íƒ€ì›Œ", link: "" },
        3: { text: "ëª¨ë¸í•˜ìš°ìŠ¤", link: "https://www.band.us/" },
        4: { text: "ì—†ìŒ", link: "" },
        5: { text: "ì—†ìŒ", link: "" },
        6: { text: "ìë™ì°¨íƒ€ì›Œ", link: "" },
        7: { text: "ì—†ìŒ", link: "" },
        8: { text: "ì—†ìŒ", link: "" },
        9: { text: "ë°´ë“œíƒ€ì›Œ", link: "" },
        10: { text: "ì—†ìŒ", link: "" },
        11: { text: "ì—†ìŒ", link: "" },
        12: { text: "ì—†ìŒ", link: "" }
    };

    function loginCheck() {
        const id = document.getElementById('id-input').value;
        const pw = document.getElementById('pw-input').value;
        
        if (id === ADMIN_ID && pw === ADMIN_PW) {
            isManager = true;
            document.getElementById('admin-bar').classList.remove('hidden');
        }
        document.getElementById('login-screen').classList.add('hidden');
        renderGrid();
    }

    function renderGrid() {
        const wrap = document.getElementById('grid-wrap');
        wrap.innerHTML = '';
        
        // ê´€ë¦¬ì ëª¨ë“œì¼ ë•Œ ê°€ì´ë“œë¼ì¸ í™œì„±í™”
        if(isManager && !isPreview) wrap.classList.add('admin-view');
        else wrap.classList.remove('admin-view');

        // ì´ 12ê°œ ë¸”ë¡ ìƒì„± (3ì—´ ê³ ì • êµ¬ì¡°)
        for (let i = 1; i <= 12; i++) {
            const block = document.createElement('div');
            block.className = 'block-item interactive';
            
            const data = blockData[i] || { text: "ì—†ìŒ", link: "" };
            
            // í´ë¦­ ë™ì‘
            block.onclick = () => {
                if (isManager && !isPreview) {
                    // ê´€ë¦¬ì ëª¨ë“œ: í…ìŠ¤íŠ¸ ìˆ˜ì •
                    const newTxt = prompt(`block${i} ë¬¸êµ¬ ìˆ˜ì •:`, data.text);
                    if(newTxt !== null) {
                        blockData[i].text = newTxt;
                        renderGrid();
                    }
                } else {
                    // ì¼ë°˜ ëª¨ë“œ: ë§í¬ ì—°ê²°
                    if(data.link && data.link !== "") {
                        window.open(data.link, '_blank');
                    }
                }
            };

            // ë¬¸êµ¬ ì²˜ë¦¬ (ì—†ìŒì¼ ê²½ìš° ë¹ˆì¹¸, ë‹¨ ê´€ë¦¬ì ëª¨ë“œì—ì„œëŠ” í‘œì‹œ ê°€ëŠ¥)
            const displayTxt = (data.text === "ì—†ìŒ") ? "" : data.text;

            block.innerHTML = `
                <div class="block-img-box">
                    <img src="images/block${i}.png" onerror="this.style.opacity='0';">
                </div>
                <div class="block-text">${displayTxt}</div>
            `;
            wrap.appendChild(block);
        }
    }

    function togglePreview() {
        isPreview = !isPreview;
        renderGrid();
        alert(isPreview ? "ì¼ë°˜ ëª¨ë“œ ë¯¸ë¦¬ë³´ê¸° ìƒíƒœì…ë‹ˆë‹¤." : "ê´€ë¦¬ì í¸ì§‘ ëª¨ë“œë¡œ ëŒì•„ì™”ìŠµë‹ˆë‹¤.");
    }

    function manageHeader() {
        const action = prompt("[1]ëª©ë¡ ì¶”ê°€ [2]ëª©ë¡ ì‚­ì œ");
        const nav = document.getElementById('main-nav');
        
        if (action === "1") {
            const title = prompt("í—¤ë” ì œëª©:");
            const icon = prompt("ì•„ì´ì½˜ (ì´ëª¨ì§€):", "âœ¨");
            const type = prompt("ì—°ê²° íƒ€ì… (1:ë‚´ë¶€í˜ì´ì§€, 2:ì™¸ë¶€URL)");
            const url = prompt("ê²½ë¡œ/URL ì…ë ¥:");
            
            if(title) {
                const item = document.createElement('div');
                item.className = 'nav-item interactive';
                item.innerHTML = `<span class="nav-icon">${icon}</span><span>${title}</span>`;
                item.onclick = () => { if(url) location.href = url; };
                nav.appendChild(item);
            }
        } else if (action === "2") {
            if (nav.children.length > 4) nav.removeChild(nav.lastChild);
        }
    }

    function navMove(el) {
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }
</script>
</body>
</html>